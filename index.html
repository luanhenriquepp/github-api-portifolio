<!DOCTYPE html>
<html lang="">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Potif√≥lio</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    
    <h1>Sobre mim</h1>
    <img id="avatar">
    <div id="bio">
        <p id="bio_pagraph"></p>
    </div>
    <div id="renderList"></div>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>

        const baseUrl = 'https://api.github.com'

        const getUser = () => {
            axios.get(`${baseUrl}/users/luanhenriquepp`).then(response => {
                const user = JSON.stringify(response.data)
                localStorage.setItem('user', user)
            })
        }
        getUser()

        let user = JSON.parse(localStorage.getItem('user'))
        let { login }  = user

        const setUserInformation = () => {
            const avatar_url = document.getElementById('avatar')
            avatar_url.src = user.avatar_url

            document.getElementById('bio_pagraph').innerHTML = user.bio
        }
        setUserInformation()

        const getUserProjects =  () => {

            const ul = document.createElement('ul')
            ul.setAttribute('id','projectList')
            document.getElementById('renderList').appendChild(ul)

            axios.get(`${baseUrl}/users/${login}/repos`).then(response => {
            response.data.forEach(element => {
            const li = document.createElement('li')
            li.setAttribute('class','item')
                ul.appendChild(li)
                li.innerHTML =  element.html_url
                })
            })
        }
        getUserProjects()

    </script>
</body>
</html>